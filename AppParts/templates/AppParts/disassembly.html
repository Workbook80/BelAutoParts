{% extends 'AppParts/base.html' %}
{% block content %}

	<div class="d-flex align-items-center mb-3">
		<a href="{% url 'AppParts:marks_view' %}" class="btn btn-danger mr-2">
			<i class="bi bi-arrow-left-square"></i>
		</a>
		<h4 class="mb-0">Недавние разборки:</h4>
	</div>

	{% for disassembly in disassembly_list %}
		<div class="card mb-3">
			<div class="card-body">
				<div class="row">
					<div class="col-lg-6 mx-auto pt-3">
						<h4>Марка: <a class="text-dark"
						              href="{% url 'AppParts:models_view' mark_id=disassembly.mark_id %}">{{ disassembly.mark }}</a>
						</h4>
						<h4>Модель: <a class="text-dark"
						               href="{% url 'AppParts:category_view' model_id=disassembly.model_id %}">{{ disassembly.model }}</a>
						</h4>
						{% if disassembly.description %}
							<h4>Описание: {{ disassembly.description }}</h4>
						{% endif %}

						<h4>Дата разборки: {{ disassembly.date }}</h4>
					</div>
					<div class="col-lg-6 mx-auto">
						<div id="carouselDisassembly{{ disassembly.disassembly_id }}" class="carousel slide p-3"
						     data-ride="carousel">
							<div class="carousel-inner">
								{% if disassembly.image_url_part %}
									<div class="carousel-item active">
										<img src="{{ disassembly.image_url_part.url }}" class="d-block w-100 rounded"
										     alt="{{ disassembly.disassembly_id }} Image">
									</div>
								{% endif %}
								{% if disassembly.additional_image_one %}
									<div class="carousel-item">
										<img src="{{ disassembly.additional_image_one.url }}"
										     class="d-block w-100 rounded"
										     alt="{{ disassembly.disassembly_id }} Image_1">
									</div>
								{% endif %}
								{% if disassembly.additional_image_two %}
									<div class="carousel-item">
										<img src="{{ disassembly.additional_image_two.url }}"
										     class="d-block w-100 rounded"
										     alt="{{ disassembly.disassembly_id }} Image_2">
									</div>
								{% endif %}
								{% if disassembly.additional_image_three %}
									<div class="carousel-item">
										<img src="{{ disassembly.additional_image_three.url }}"
										     class="d-block w-100 rounded"
										     alt="{{ disassembly.disassembly_id }} Image_3">
									</div>
								{% endif %}
							</div>
							{% if disassembly.additional_image_one or disassembly.additional_image_two or disassembly.additional_image_three %}
								<a class="carousel-control-prev"
								   href="#carouselDisassembly{{ disassembly.disassembly_id }}"
								   role="button" data-slide="prev">
									<span class="carousel-control-prev-icon" aria-hidden="true"></span>
									<span class="sr-only">Previous</span>
								</a>
								<a class="carousel-control-next"
								   href="#carouselDisassembly{{ disassembly.disassembly_id }}"
								   role="button" data-slide="next">
									<span class="carousel-control-next-icon" aria-hidden="true"></span>
									<span class="sr-only">Next</span>
								</a>
							{% endif %}
						</div>
					</div>
				</div>
			</div>
		</div>
	{% endfor %}

{% endblock %}