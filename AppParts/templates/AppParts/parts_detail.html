{% extends 'AppParts/base.html' %}
{% block content %}

	<div class="row">
		<div class="col-lg-6 mx-auto pt-3">
			<div class="d-flex align-items-center mb-3">
				<a href="{% for model in part.model.all|slice:":1" %}
{% url 'AppParts:category_view' model_id=model.model_id %}{% endfor %}"
				   class="btn btn-danger mr-2">
					<i class="bi bi-arrow-left-square"></i>
				</a>
				<h4 class="mb-0">{{ part.subcategory }}</h4>
			</div>


			<h4>{{ part.part_name }}</h4>
			{% if part.description %}
				<h6>Описание: {{ part.description }}</h6>
			{% endif %}
			<h6>Артикул: {{ part.code }}</h6>
			<h6>Наличие:
				{% if part.availability %}
					<span class="text-success">Есть в наличии</span> <i class="bi bi-check-circle"></i>
				{% else %}
					<span class="text-danger">Нет в наличии</span> <i class="bi bi-x-circle"></i>
				{% endif %}
			</h6>
			<h6>Цена: {{ part.formatted_price }} &#8381;</h6>


			<h4>Поддерживаемые модели:</h4>
			<p>
				{% for model in part.model.all %}
					{{ model.model_name }}
				{% endfor %}
			</p>
		</div>

		<div class="col-lg-6 mx-auto">
			<div id="carouselPart" class="carousel slide p-3" data-ride="carousel">
				<div class="carousel-inner">
					{% if part.image_url_part %}
						<div class="carousel-item active">
							<img src="{{ part.image_url_part.url }}" class="d-block w-100 rounded"
							     alt="{{ part.part_name }} Image">
						</div>
					{% endif %}
					{% if part.additional_image_one %}
						<div class="carousel-item">
							<img src="{{ part.additional_image_one.url }}" class="d-block w-100 rounded"
							     alt="{{ part.part_name }} Image_1">
						</div>
					{% endif %}
					{% if part.additional_image_two %}
						<div class="carousel-item">
							<img src="{{ part.additional_image_two.url }}" class="d-block w-100 rounded"
							     alt="{{ part.part_name }} Image_2">
						</div>
					{% endif %}
					{% if part.additional_image_three %}
						<div class="carousel-item">
							<img src="{{ part.additional_image_three.url }}" class="d-block w-100 rounded"
							     alt="{{ part.part_name }} Image_3">
						</div>
					{% endif %}
				</div>
				{% if part.additional_image_one or part.additional_image_two or part.additional_image_three %}
					<a class="carousel-control-prev" href="#carouselPart" role="button" data-slide="prev">
						<span class="carousel-control-prev-icon" aria-hidden="true"></span>
						<span class="sr-only">Previous</span>
					</a>
					<a class="carousel-control-next" href="#carouselPart" role="button" data-slide="next">
						<span class="carousel-control-next-icon" aria-hidden="true"></span>
						<span class="sr-only">Next</span>
					</a>
				{% endif %}
			</div>
		</div>
	</div>

{% endblock %}